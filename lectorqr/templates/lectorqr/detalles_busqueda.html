{% extends 'core/base.html' %}
{% load static %}
{% block title %}Resultados{% endblock %}

{% block content %}

<script>
  setTimeout(function () {
    window.location.href = "{% url 'home' %}";
  }, 20000);
</script>

<style>
  .center-block {
    float: none;
    margin-left: auto;
    margin-right: auto;
  }

  /* CÍRCULO PERFECTO */
  .perfil-img {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    display: block;
    margin: 0 auto 10px;
    object-fit: cover;
  }

  .resultado-img {
    width: 100%;
    max-width: 550px;
    height: 200px;
    border-radius: 15px;
    display: block;
    margin: 0 auto;
    object-fit: cover;
  }

  .mensaje-redirect {
    margin-top: 15px;
    color: #666;
    font-size: 14px;
  }
</style>

<div class="container text-center">

  <div class="row">

    <div class="col-md-6 center-block">

      <h2>
        Resultados
        <hr>
      </h2>

      {# ================= FOTO PERFIL ================= #}
      {% if paciente.foto_perfil %}
      <img src="{{ paciente.foto_perfil.url }}" alt="Foto de {{ paciente.codigo }}" class="perfil-img">
      {% else %}
      <img src="{% static 'img/default-profile.png' %}" alt="Sin foto de perfil" class="perfil-img">
      {% endif %}

      <h4>{{ paciente.nombre }}</h4>
      <h5>{{ paciente.fecha_nacimiento }}</h5>

      <br>

      {# ================= FOTO RESULTADO ================= #}
      {% if paciente.foto_resultado %}
      <img src="{{ paciente.foto_resultado.url }}" alt="Resultado de {{ paciente.codigo }}" class="resultado-img">
      {% else %}
      <p class="text-muted">
        No hay imagen de resultado disponible.
      </p>
      {% endif %}

      <p class="mensaje-redirect">
        Serás redirigido automáticamente al inicio en 20 segundos.
      </p>

    </div>

  </div>
</div>

{% endblock %}